# guardFns

```typescript
    guards: {
      balanceZero: { condition: 'fn', name: 'balanceZero', path: "~/some/data" }
    },
```
This is in a file somewhere. Let's call it 'guardFns.ts'
```typescript
import { LensState } from "@focuson/state";

export interface HasValue{
  value: number
}
export function balanceZero<S,V extends HasValue, C>(s: LensState<S,V[], C>): boolean{
  const data = s.optJsonOr([])
  const balance = data.reduce((acc, v)=> acc + v.value, 0)
  return balance === 0
}
```
We need to copy it. Modify your generation code
```typescript
fse.copySync ( './src/guardFns.ts', tsRoot + "/src/guardFns.ts" )
```
And then tell the system it exists

```typescript

generate ( logLevel, directorySpec, devAppConfig, {
    ...params,
    guardFnsFile: '../guardFns',  // <----------------- otherwise the imports won't work
    controllerAnnotations: [ "@CrossOrigin()" ],
```

# Modified where the request.controllers go



# Migration guide
You will need to delete your generated source code. Especially the java: the file layout of request controllers and the wiring has changed a lot

If you have 'sidecared' your mvn.pom you will get issues.
